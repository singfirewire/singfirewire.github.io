<!DOCTYPE html>
<html lang="th">
<head>
  </head>
<body>
    <section id="อุปกรณ์" class="pricing">
        <div class="container">
            <h2>อุปกรณ์ให้เช่า</h2>
            <div class="calculator">
                <h3>คำนวณราคาค่าเช่า</h3>
                <div class="form-group">
                    <label for="tents">เต็นท์ (เริ่มต้น 1,000 บาท/หลัง):</label>
                    <input type="number" id="tents" value="0" min="0"> หลัง
                </div>
                <div class="form-group">
                    <label for="tables">โต๊ะ (500 บาท/ตารางเมตร):</label>
                    <input type="number" id="tables" value="0" min="0"> ตารางเมตร
                </div>
                <div class="form-group">
                    <label for="speaker">ลำโพง:</label>
                    <select id="speaker">
                        <option value="2x2">2x2</option>
                        <option value="4x4">4x4</option>
                        <option value="4x8">4x8</option>
                    </select>
                </div>
                <div class="total-price">
                    รวม: <span id="total">0</span> บาท
                </div>
                <button onclick="calculateTotal()">คำนวณ</button>
            </div>
        </div>
    </section>

    <script>
        function calculateTotal() {
            const tents = parseInt(document.getElementById('tents').value) || 0;
            const tablesArea = parseInt(document.getElementById('tables').value) || 0;
            const speakerSize = document.getElementById('speaker').value;

            // ส่งข้อมูลไปยัง server เพื่อคำนวณ
            fetch(`/calculate?tents=${tents}&tablesArea=${tablesArea}&speakerSize=${speakerSize}`)
                .then(response => response.json())
                .then(data => {
                    document.getElementById('total').textContent = data.total.toLocaleString('th-TH');
                })
                .catch(error => {
                    console.error('Error:', error);
                    document.getElementById('total').textContent = 'เกิดข้อผิดพลาด';
                });
        }
    </script>

</body>
</html>
